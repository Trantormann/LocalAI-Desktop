========================================
    LocalAI-Desktop 使用说明
========================================

版本：v1.1 (Agent 升级版)
更新日期：2026年2月
适用系统：Windows 10/11
风格：极简黑白灰 / 全透明毛玻璃

========================================
目录
========================================

1. 快速开始
2. 核心功能
3. AI Agent 对话流控制
4. 常见问题解答
5. 故障排除指南
6. 联系与支持

========================================
**1.核心功能**
========================================

## 1.1 安装前准备

必需：
- Windows 10/11 操作系统
- Ollama（AI模型运行环境）
  下载地址：https://ollama.com/download/windows

## 1.2 一键部署

1. 解压 LocalAI-Desktop 压缩包到任意目录
2. 双击运行 deploy.bat
3. 按照提示选择 Qwen3 系列模型（推荐：qwen3:8b）
4. 部署成功后，双击运行 start.bat
5. 浏览器会自动打开 http://127.0.0.1:7860

## 1.3 首次使用

1. 启动应用后，侧边栏模型选择器会自动加载已安装模型。
2. 默认推荐模型：
   - 对话：qwen3:8b (通义千问3)
   - 视觉：qwen3-vl:8b (通义千问3视觉)
   - 编程：qwen2.5-coder:7b
3. 提示：点击"设置"可启用 "AI Agent 模式"。

========================================
2. 核心功能
========================================

## 2.1 线性流式对话
- **逐字输出**：如同原生 ChatGPT 般的线性流式交互。
- **Agent 驱动**：支持自然语言理解，自动识别意图。
- **上下文记忆**：支持多轮对话逻辑。

## 2.2 视觉理解 (Qwen3-VL)
- **精准识别**：基于通义千问3视觉大模型。
- **多模态交互**：支持拖放、粘贴、文件选择上传图片。
- **截图分析**：一键截图并自动发给 AI 进行分析。

## 2.3 极简 UI 设计
- **黑白灰风格**：低调专业的配色系统。
- **全透明效果**：毛玻璃背景，完美融合桌面。
- **响应式布局**：侧边栏折叠，功能模块清晰。

========================================
3. AI Agent 对话流控制 (New!)
========================================

本版本新增了 **AI Agent** 核心，让 AI 能够理解并直接操作您的电脑。

### 3.1 什么是对话流控制？
您不再需要点击复杂的按钮，只需在对话框输入自然语言：
- "帮我打开记事本" -> AI 自动执行
- "截个图看看屏幕内容" -> AI 自动截图并分析
- "查看系统当前状态" -> AI 获取 CPU/内存信息并汇报
- "帮我打开资源管理器" -> AI 自动启动

### 3.2 支持的操作白名单
- **应用程序**：记事本、计算器、画图、资源管理器、任务管理器、控制面板等。
- **系统工具**：截图、获取 CPU/内存/磁盘状态、执行安全白名单命令。

### 3.3 如何启用？
1. 进入 "设置" 标签页。
2. 开启 "允许系统控制" 和 "启用 AI Agent 模式"。
3. 点击 "保存设置"。

========================================
4. 常见问题解答
========================================

Q1: 为什么模型选择栏显示"加载中"？
A1: 请确保 Ollama 服务已启动。如果已启动，请尝试按 Ctrl+Shift+R 强制刷新页面。

Q2: 模型输出 arguments 1 错误？
A2: 已在 v1.1 版本中修复。如果仍出现，请确保路径不包含非法特殊字符。

Q3: AI 说已执行操作但没反应？
A3: 请检查设置中是否开启了"允许系统控制"。部分 GUI 程序在某些环境下可能需要几秒钟启动。

Q4: 如何更换模型？
A4: 运行 install_models.bat，选择下载 qwen3:4b (轻量) 或 qwen3:14b (更强)。

========================================
5. 故障排除指南
========================================

- **日志查看**：所有操作记录在 logs/ 目录下，搜索 "[Agent]" 可查看指令执行详情。
- **环境检查**：运行 check_env.bat。
- **系统测试**：运行 test_system.py。

========================================
6. 联系与支持
========================================

感谢使用 LocalAI-Desktop！本应用完全离线运行，保护您的数据隐私。
如有问题，请运行 AGENT_GUIDE.txt 获取详细的 Agent 指令指南。
========================================
